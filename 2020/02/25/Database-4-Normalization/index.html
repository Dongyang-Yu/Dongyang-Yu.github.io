<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("http://Dongyang-Yu.github.io").hostname,root:"/",scheme:"Pisces",version:"7.7.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="Chapter 4Update Operations, Update Anomalies, and Normalization"><meta property="og:type" content="article"><meta property="og:title" content="Database 4. Normalization"><meta property="og:url" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/index.html"><meta property="og:site_name" content="Dongyang Yu&#39;s Blog"><meta property="og:description" content="Chapter 4Update Operations, Update Anomalies, and Normalization"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200326101826243.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200326101835442.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200326101849713.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200227073302785.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200303081241913.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200303081724142.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200227073302785.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200227073302785.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200227080847062.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200227081340933.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200227073201828.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200225083149283.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200326104950267.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200326105003912.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200326105050098.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200326105140076.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200326110528948.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200227082033709.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200227082040448.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200227082726706.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200227082745898.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200227083249474.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200227083258517.png"><meta property="article:published_time" content="2020-02-25T14:56:26.000Z"><meta property="article:modified_time" content="2020-03-26T18:50:35.637Z"><meta property="article:author" content="Dongyang Yu"><meta property="article:tag" content="Normalization"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/image-20200326101826243.png"><link rel="canonical" href="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>Database 4. Normalization | Dongyang Yu's Blog</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Dongyang Yu's Blog</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">Hello World.</p></div><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Searching..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en"><link itemprop="mainEntityOfPage" href="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Dongyang Yu"><meta itemprop="description" content="Stay hungry. Stay foolish."></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Dongyang Yu's Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Database 4. Normalization</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-02-25 07:56:26" itemprop="dateCreated datePublished" datetime="2020-02-25T07:56:26-07:00">2020-02-25</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">Edited on</span> <time title="Modified: 2020-03-26 11:50:35" itemprop="dateModified" datetime="2020-03-26T11:50:35-07:00">2020-03-26</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Database/" itemprop="url" rel="index"><span itemprop="name">Database</span> </a></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">Valine: </span><a title="valine" href="/2020/02/25/Database-4-Normalization/#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2020/02/25/Database-4-Normalization/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="Chapter-4"><a href="#Chapter-4" class="headerlink" title="Chapter 4"></a>Chapter 4</h1><p>Update Operations, Update Anomalies, and Normalization</p><a id="more"></a><p><strong>Insert operation</strong></p><ul><li>Used for entering new data in the relation</li></ul><p><strong>Delete operation</strong></p><ul><li>Used for removing data from the relation</li></ul><p><strong>Modify operation</strong></p><ul><li>Used for changing the existing data in the relation</li></ul><p>Example of an insert operation</p><p><img src="/2020/02/25/Database-4-Normalization/image-20200326101826243.png" alt="image-20200326101826243"></p><p>Example of a delete operation</p><p><img src="/2020/02/25/Database-4-Normalization/image-20200326101835442.png" alt="image-20200326101835442"></p><p>Example of a modification operation</p><p><img src="/2020/02/25/Database-4-Normalization/image-20200326101849713.png" alt="image-20200326101849713"></p><h1 id="更新异常"><a href="#更新异常" class="headerlink" title="更新异常"></a>更新异常</h1><blockquote><p><strong>Update anomalies</strong>, 在进行更新操作时，共有三中更新异常：分别是<u>插入</u>、<u>删除</u>和<u>修改</u>异常。</p></blockquote><h2 id="Insertion-anomaly"><a href="#Insertion-anomaly" class="headerlink" title="Insertion anomaly"></a>Insertion anomaly</h2><blockquote><p>插入异常：指当用户需要<strong>插入</strong>某一真实世界中实体Entity的数据时，还必须<strong>输入</strong>另一个真实世界中的实体Entity的数据。</p></blockquote><p><img src="/2020/02/25/Database-4-Normalization/image-20200227073302785.png" alt="image-20200227073302785"></p><p>比如，上面的广告代理决定增加一直新的宣传模式<code>ModelID</code>，（比如说<code>7, Internet, National</code>）。但是，这种新的模式并不能输入到关系中，因为目前并没有使用它的<u>宣传活动</u>，所以不能插入进去。</p><p>简单来说，插入异常是插入一个<strong>实体</strong>的同时，另一个<strong>实体</strong>也需要插入。</p><blockquote><p>区分方法：</p><ul><li><p>首先看表中是否有多个实体</p><ul><li><p><img src="/2020/02/25/Database-4-Normalization/image-20200303081241913.png" alt="image-20200303081241913"><br>比如这道题中，有两个实体，一个是航班（比如航班号U111，日期），一个是飞的地区(比如芝加哥飞丹佛)。而飞的地区是依赖航班的</p></li><li><p>Q: Which of the following (regarding the relation FLIGHT) represents the insertion anomaly? <u>(A)</u><br>A) Inability to insert a flight without its occurrence<br>B) Inability to insert an origin without a destination<br>C) Inability to insert a destination without an origin<br>D) Inability to insert a number of passengers without a flight ID and date</p></li><li><p><img src="/2020/02/25/Database-4-Normalization/image-20200303081724142.png" alt="image-20200303081724142"><br>同样这道题有两个实体，一个是学生，一个是课程。而课程是依赖于学生的，所以B错</p></li><li><p>Q: Which of the following (regarding the relation ENROLLMENT) represents the insertion anomaly? <u>(B)</u></p><p>A) Inability to insert a student without adding a class<br>B) Inability to insert a class without adding a student<br>C) Inability to insert a class name without a class ID<br>D) Inability to insert a student name without a student ID</p></li></ul></li></ul></blockquote><p>关于FLIGHT的问题<a href="https://quizlet.com/434422679/dbmgmt-chapter-4-flash-cards/" target="_blank" rel="noopener">https://quizlet.com/434422679/dbmgmt-chapter-4-flash-cards/</a></p><h2 id="Deletion-anomaly"><a href="#Deletion-anomaly" class="headerlink" title="Deletion anomaly"></a>Deletion anomaly</h2><blockquote><p>删除异常：当用户需要<strong>删除</strong>某一真实世界中实体的数据时，还必须<strong>删除</strong>另一个真实世界中的实体的数据</p></blockquote><p><img src="/2020/02/25/Database-4-Normalization/image-20200227073302785.png" alt="image-20200227073302785"></p><p>比如想要删除<code>宣传活动444</code>，但删除的同时，<code>宣传模式（6， Print， National）</code>和<code>宣传经理（103，Nancy）</code>也被删除了。因为目前只有这一个<u>宣传活动</u>使用它们。这是我们不想看到的，因为未来的活动我们可能需要使用<u>宣传模式6</u>和<u>经理103</u>。</p><p>简单来说，删除异常是<u>根据主键</u>删除数据时，一些可能只存在这一个数据中<u>非码列</u>会随之被删除，在此之后无法被调用。</p><h2 id="Modification-anomaly"><a href="#Modification-anomaly" class="headerlink" title="Modification anomaly"></a>Modification anomaly</h2><blockquote><p>修改异常：当用户需要<strong>修改</strong>某一值时，同样的修改操作需要<strong>重复多次</strong>。</p></blockquote><p><img src="/2020/02/25/Database-4-Normalization/image-20200227073302785.png" alt="image-20200227073302785"></p><p>比如，假设将<code>宣传活动222</code>的持续时间从30天延长至45天。该操作需要在3条不同的记录上进行。</p><p>简单来说，就是删除某一列中的值时，需要<u>重复修改多次</u>。</p><p>对于可能的更新异常，可以通过<em>规范化过程</em>来改进。大多数规范化过程是基于对<em>函数依赖</em>概念的理解进行的。</p><h1 id="函数依赖"><a href="#函数依赖" class="headerlink" title="函数依赖"></a>函数依赖</h1><blockquote><ul><li>Functional dependency - occurs when the value of one (or more) column(s) in each record of a relation uniquely determines the value of another column in that same record of the relation</li></ul><p>functional dependency是指关系中的每条记录中一列（或几列）的值<u>唯一</u>决定该条记录的另一列的值。</p></blockquote><p>比如下方图中，列<code>ClientID</code>函数确定列<code>ClientName</code>，因为某一<code>ClientID</code>的值只能和一个<code>ClientName</code>的值相关联。另一方面，列<code>ClientName</code>不能函数确定列<code>ClientID</code>，因为Name的值可以和多个ID值相关联。例如有两个客户有相同名字<code>William</code>。</p><p><img src="/2020/02/25/Database-4-Normalization/image-20200227080847062.png" alt="image-20200227080847062"></p><h2 id="函数依赖的表示方法"><a href="#函数依赖的表示方法" class="headerlink" title="函数依赖的表示方法"></a>函数依赖的表示方法</h2><h3 id="箭头表示"><a href="#箭头表示" class="headerlink" title="箭头表示"></a>箭头表示</h3><p><code>A-&gt;B</code>，箭头左边的列<strong><u>确定</u></strong>右边的列。</p><p>比如上图中的函数依赖可以表示为：</p><p><code>ClientID-&gt;ClientName</code></p><h3 id="图形表示"><a href="#图形表示" class="headerlink" title="图形表示"></a>图形表示</h3><p><img src="/2020/02/25/Database-4-Normalization/image-20200227081340933.png" alt="image-20200227081340933"></p><h2 id="函数依赖实例"><a href="#函数依赖实例" class="headerlink" title="函数依赖实例"></a>函数依赖实例</h2><p><img src="/2020/02/25/Database-4-Normalization/image-20200227073201828.png" alt="image-20200227073201828"></p><p><img src="/2020/02/25/Database-4-Normalization/image-20200225083149283.png" alt="image-20200225083149283"></p><h1 id="简化函数依赖"><a href="#简化函数依赖" class="headerlink" title="简化函数依赖"></a>简化函数依赖</h1><h2 id="Trivial-平凡函数依赖"><a href="#Trivial-平凡函数依赖" class="headerlink" title="(Trivial)平凡函数依赖"></a>(Trivial)平凡函数依赖</h2><ul><li><p><em>occurs when an attribute (or a set of attributes) functionally <u>determines itself or its subset</u></em></p></li><li><p>For example:</p><p><strong>A → A</strong></p><p><strong>A, B → A, B</strong></p><p><strong>A, B → A</strong></p><p><strong>CampaignMgrID</strong>, <strong>CampaignMgrName</strong> <strong>→</strong> <strong>CampaignMgrName</strong></p></li><li><p>Trivial functional dependencies are not depicted</p></li></ul><h2 id="Augmented-增广函数依赖"><a href="#Augmented-增广函数依赖" class="headerlink" title="(Augmented)增广函数依赖"></a>(Augmented)增广函数依赖</h2><ul><li><em>functional dependency that contains an existing functional dependency</em>。 比如说Joe比Sue更重是一个真语句。在这种情况下，拿着一袋土豆的Joe比拿着同样一袋土豆的Sue更重也是一个真语句，但是这在原语句的基础上增加了不必要的语句。增广函数依赖的概念与之类似。</li><li>For example if a functional dependency :<br><strong>A → B</strong> exists in a relation, then :<br><strong>A, C → B</strong> is an <em>augmented functional dependency</em></li><li>Does not add new information to what is already described by the existing functional dependency</li><li>It can be omitted</li></ul><h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example 1"></a>Example 1</h3><p><strong>AD CAMPAIGN MIX</strong> example</p><p>Functional dependencies(in Set 3): <strong>AdCampaignID</strong> <strong>→</strong> <strong>AdCampaignName</strong>, <strong>StartDate</strong>, <strong>Duration</strong>, <strong>CampaignMgrID</strong>, <strong>CampaignMgrName</strong></p><p><u>Augmented functional dependencies (in Set 5) due to Set 3</u>: <strong>AdCampaignID</strong>, <strong>ModeID</strong> <strong>→</strong> <strong>AdCampaignName</strong>, <strong>StartDate</strong>, <strong>Duration</strong>,</p><p><strong>CampaignMgrID</strong>, <strong>CampaignMgrName</strong> can be omitted</p><h3 id="Example-2"><a href="#Example-2" class="headerlink" title="Example 2"></a>Example 2</h3><p><strong>AD CAMPAIGN MIX</strong> example</p><p>Functional dependencies (Set 2): <strong>ModeID</strong> <strong>→ Media, Range</strong></p><p><u>Augmented functional dependencies (in Set 5) due to Set 2:</u> <strong>AdCampaignID</strong>, <strong>ModeID</strong> <strong>→ Media, Range</strong> can be omitted</p><h2 id="Equivalent-等价函数依赖"><a href="#Equivalent-等价函数依赖" class="headerlink" title="(Equivalent)等价函数依赖"></a>(Equivalent)等价函数依赖</h2><ul><li><em>occurs when two columns (or sets of columns) that functionally determine each other determine other columns</em></li><li>If one of the equivalent functional dependencies is depicted, the other equivalent functional dependency can be omitted</li></ul><p>For example if functional dependencies :<br><strong>A → B<br>B → A</strong> exists in a relation,</p><p>then :<br><strong>A → B<br>B → A</strong> are equivalent functional dependencies,</p><p>and:<br><strong>A → B, X<br>B → A, X</strong> are equivalent functional dependencies,</p><p>and:<br><strong>Y,A → B, X<br>Y,B → A, X</strong> are equivalent functional dependencies</p><h3 id="Example-1-1"><a href="#Example-1-1" class="headerlink" title="Example 1"></a>Example 1</h3><p><strong>AD CAMPAIGN MIX</strong> example</p><p>Because the functional dependency (Set 1):</p><p><strong>AdCampaignID</strong> <strong>→</strong> <strong>AdCampaignName</strong></p><p>and the functional dependency (Set 2):</p><p><strong>AdCampaignName</strong> <strong>→</strong> <strong>AdCampaignID</strong></p><p>are <strong>equivalent</strong>,</p><p>Set 2 can be omitted from depiction because it is equivalent to Set 1</p><h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p><strong>Streamlining functional dependencies</strong></p><p><img src="/2020/02/25/Database-4-Normalization/image-20200326104950267.png" alt="image-20200326104950267"></p><p><img src="/2020/02/25/Database-4-Normalization/image-20200326105003912.png" alt="image-20200326105003912"></p><p>Therefore:</p><p><img src="/2020/02/25/Database-4-Normalization/image-20200326105050098.png" alt="image-20200326105050098"></p><p><strong>Another notation</strong></p><p><img src="/2020/02/25/Database-4-Normalization/image-20200326105140076.png" alt="image-20200326105140076"></p><h1 id="函数依赖类型"><a href="#函数依赖类型" class="headerlink" title="函数依赖类型"></a>函数依赖类型</h1><p>The functional dependencies that are used as a basis for the typical normalization process can be classified in one of the three categories:</p><ul><li><p><strong>Partial functional dependency</strong></p></li><li><p><strong>Full key functional dependency</strong></p></li><li><p><strong>Transitive functional dependency</strong></p></li></ul><h2 id="部分函数依赖-Partial"><a href="#部分函数依赖-Partial" class="headerlink" title="部分函数依赖 Partial"></a>部分函数依赖 Partial</h2><blockquote><p>Partial functional dependency - occurs when a column of a relation is functionally <u>dependent</u> on a component of <strong>a composite primary key</strong></p><p>指关系的一列函数依赖于组合主码的一部分</p></blockquote><ul><li>Only composite primary keys have separate components, while single-column primary keys do not have separate components 只有<u>组合主键才有不同的组成部分</u>，而单列的主键则没有</li><li>Hence, partial functional dependency can occur only in cases when a relation has a composite primary key 所以，部分函数依赖只出现在<strong>关系中有组合主键的情况下</strong>。</li></ul><h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h3><p>Partial functional dependencies (in AD CAMPAIGN MIX example)</p><p>​ AdCampaignID → AdCampaignName, StartDate, Duration, CampaignMgrID, CampaignMgrName</p><p>​ ModeID → Media, Range</p><p>在上例中，我们已知<u>组合主键</u>是AdCampaignID和ModeID，因此在AdCampaignID函数确定关系中，其它列的函数依赖是部分函数依赖。同理，ModeID函数确定关系中，其它l列的函数依赖也是部分函数依赖。</p><h2 id="完全函数依赖-Full-key"><a href="#完全函数依赖-Full-key" class="headerlink" title="完全函数依赖 Full key"></a>完全函数依赖 Full key</h2><blockquote><p>指主码函数确定关系中的其它列，并且主键的任意一部分都不能<strong>单独</strong>确定同样的列。</p><p>如果关系中有一个单独（非组合）的主键，那么该主码<strong><u>完全函数确定</u></strong>关系中其他的所有列。</p><p>然而，如果关系中有一个组合主键，该组合主键的一部分可以<u><strong>部分确定</strong></u>关系中的列，那么这个主键就不是<strong><u>完全函数确定</u></strong>这些部分列了。</p></blockquote><h2 id="传递函数依赖-Transitive"><a href="#传递函数依赖-Transitive" class="headerlink" title="传递函数依赖 Transitive"></a>传递函数依赖 Transitive</h2><blockquote><p>指非码列（非主键列）<strong><u>函数确定</u></strong>关系中的其它非码列。</p><ul><li><strong>Nonkey</strong> <strong>column</strong> is a column in a relation that is neither a primary nor a candidate key column.</li></ul></blockquote><p>比如上方例子中，</p><p><strong>CampaignMgrID→CampaignMgrName</strong>就是一个传递函数依赖</p><p>Functional dependencies in the relation AD CAMPAIGN MIX (types indicated)如下图所示</p><p><img src="/2020/02/25/Database-4-Normalization/image-20200326110528948.png" alt="image-20200326110528948"></p><h1 id="规范化-Normalization"><a href="#规范化-Normalization" class="headerlink" title="规范化 Normalization"></a>规范化 Normalization</h1><blockquote><p>Process used to improve the design of relational databases</p><p>规范化过程需要检查每个表以确认它是否满足某一范式。如果满足某一范式，则继续检查它是否满足下一个更高的范式。</p><p>规范化到第一范式就是把非关系表转换成关系表。规范到更高的范式（如2NF, 3NF）是为了改进包含冗余信息的关系表的设计，以减少更新异常的问题。</p></blockquote><p>There are several normal forms, most fundamental of which are:</p><ul><li>First normal form (1NF)</li><li>Second normal form (2NF)</li><li>Third normal form (3NF)</li></ul><h2 id="第一范式-1NF"><a href="#第一范式-1NF" class="headerlink" title="第一范式 1NF"></a>第一范式 1NF</h2><blockquote><p>1NF 要求表中的每一列的每个值都只能是该列范围内的<u><strong>单个值</strong></u>。</p></blockquote><p>First Normal Form：如果表的<u>每一行都是唯一</u>的并且任何行都<u>没有包含多个值</u>的列，那么该表就满足1NF。</p><p>举例</p><p><strong>Non-relational table (not in 1NF)</strong></p><p><img src="/2020/02/25/Database-4-Normalization/image-20200227082033709.png" alt="image-20200227082033709"></p><p><strong>Normalizing the table to 1NF by increasing the number of records</strong></p><p><img src="/2020/02/25/Database-4-Normalization/image-20200227082040448.png" alt="image-20200227082040448"></p><h2 id="第二范式-2NF"><a href="#第二范式-2NF" class="headerlink" title="第二范式 2NF"></a>第二范式 2NF</h2><blockquote><p>对于一个关系表，规范化过程是从检查它是否满足第二范式（2NF）开始的。</p></blockquote><p>Second Normal Form：如果一个表满足1NF且不包含<strong>部分函数依赖(partial functional dependencies)</strong>，则这个表满足2cNF。</p><blockquote><p>部分依赖是指组合主键的一部分可以函数确定关系的一列。如果一个关系中有单列的主键，那么这个关系中就不可能存在部分函数依赖。这种关系本身就满足2NF。但是，有组合主键的关系可能存在部分函数依赖。如果存在，就需要规范化到2NF。</p><p>将一个关系规范化到2NF会为关系中的每个部分依赖集合<u><strong>创建一个额外的关系</strong></u>。这些额外创建的关系的<strong>主键</strong>是原关系的主键中可以函数确定其它列的部分。</p></blockquote><p><strong>Example:</strong> Normalizing a table to <strong>2NF</strong></p><p>Pressly Ad Agency - relation AD CAMPAIGN MIX</p><p><img src="/2020/02/25/Database-4-Normalization/image-20200227082726706.png" alt="image-20200227082726706"></p><p>Pressly Ad Agency example - normalized to 2NF</p><p><img src="/2020/02/25/Database-4-Normalization/image-20200227082745898.png" alt="image-20200227082745898"></p><p>注意：非码列<code>CampaignMgrID</code>函数确定<code>CampaignMarName</code>是<strong>传递函数依赖</strong>，允许出现在2NF中。</p><h2 id="第三范式-3NF"><a href="#第三范式-3NF" class="headerlink" title="第三范式 3NF"></a>第三范式 3NF</h2><p>Third Normal Form：如果一个表满足2NF，且不包含<u><strong>传递函数依赖</strong></u>，则这个表满足3NF。</p><p>将2NF转换成3NF是把<u>传递函数依赖关系关系</u>创建为一个新的表。比如下方例子，我们重新构造了一个关系表<code>CAMPAIGN MANAGER</code></p><p><strong>Example:</strong> Normalizing a table to <strong>3NF</strong></p><p>Pressly Ad Agency example - normalized to 2NF</p><p><img src="/2020/02/25/Database-4-Normalization/image-20200227083249474.png" alt="image-20200227083249474"></p><p>Pressly Ad Agency example - normalized to 3NF</p><p><img src="/2020/02/25/Database-4-Normalization/image-20200227083258517.png" alt="image-20200227083258517"></p></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>Dongyang Yu</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/" title="Database 4. Normalization">http://dongyang-yu.github.io/2020/02/25/Database-4-Normalization/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Normalization/" rel="tag"><i class="fa fa-tag"></i> Normalization</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2020/02/24/Git-Notes/" rel="prev" title="Git Notes"><i class="fa fa-chevron-left"></i> Git Notes</a></div><div class="post-nav-item"><a href="/2020/02/26/Flutter-6-Building-UIs/" rel="next" title="Flutter 6. Building UIs">Flutter 6. Building UIs <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="comments" id="valine-comments"></div><script>window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">Table of Contents</li><li class="sidebar-nav-overview">Overview</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter-4"><span class="nav-number">1.</span> <span class="nav-text">Chapter 4</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#更新异常"><span class="nav-number">2.</span> <span class="nav-text">更新异常</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Insertion-anomaly"><span class="nav-number">2.1.</span> <span class="nav-text">Insertion anomaly</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Deletion-anomaly"><span class="nav-number">2.2.</span> <span class="nav-text">Deletion anomaly</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Modification-anomaly"><span class="nav-number">2.3.</span> <span class="nav-text">Modification anomaly</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#函数依赖"><span class="nav-number">3.</span> <span class="nav-text">函数依赖</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#函数依赖的表示方法"><span class="nav-number">3.1.</span> <span class="nav-text">函数依赖的表示方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#箭头表示"><span class="nav-number">3.1.1.</span> <span class="nav-text">箭头表示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#图形表示"><span class="nav-number">3.1.2.</span> <span class="nav-text">图形表示</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#函数依赖实例"><span class="nav-number">3.2.</span> <span class="nav-text">函数依赖实例</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#简化函数依赖"><span class="nav-number">4.</span> <span class="nav-text">简化函数依赖</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Trivial-平凡函数依赖"><span class="nav-number">4.1.</span> <span class="nav-text">(Trivial)平凡函数依赖</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Augmented-增广函数依赖"><span class="nav-number">4.2.</span> <span class="nav-text">(Augmented)增广函数依赖</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Example-1"><span class="nav-number">4.2.1.</span> <span class="nav-text">Example 1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Example-2"><span class="nav-number">4.2.2.</span> <span class="nav-text">Example 2</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Equivalent-等价函数依赖"><span class="nav-number">4.3.</span> <span class="nav-text">(Equivalent)等价函数依赖</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Example-1-1"><span class="nav-number">4.3.1.</span> <span class="nav-text">Example 1</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Example"><span class="nav-number">4.4.</span> <span class="nav-text">Example</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#函数依赖类型"><span class="nav-number">5.</span> <span class="nav-text">函数依赖类型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#部分函数依赖-Partial"><span class="nav-number">5.1.</span> <span class="nav-text">部分函数依赖 Partial</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Example-1"><span class="nav-number">5.1.1.</span> <span class="nav-text">Example</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#完全函数依赖-Full-key"><span class="nav-number">5.2.</span> <span class="nav-text">完全函数依赖 Full key</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#传递函数依赖-Transitive"><span class="nav-number">5.3.</span> <span class="nav-text">传递函数依赖 Transitive</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#规范化-Normalization"><span class="nav-number">6.</span> <span class="nav-text">规范化 Normalization</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#第一范式-1NF"><span class="nav-number">6.1.</span> <span class="nav-text">第一范式 1NF</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第二范式-2NF"><span class="nav-number">6.2.</span> <span class="nav-text">第二范式 2NF</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第三范式-3NF"><span class="nav-number">6.3.</span> <span class="nav-text">第三范式 3NF</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">Dongyang Yu</p><div class="site-description" itemprop="description">Stay hungry. Stay foolish.</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">22</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">6</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">16</span> <span class="site-state-item-name">tags</span></a></div></nav></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2020</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Dongyang Yu</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0</div><span class="post-meta-divider">|</span><div class="theme-info">Theme – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.0</div><span id="busuanzi_container_site_uv">Visitors：<span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span></div></footer></div><script color="100,100,100" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><script>NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el: '#valine-comments',
      verify: false,
      notify: false,
      appId: '6u1QF4uq57Xt5sYy1vN3QG9Y-gzGzoHsz',
      appKey: 'TQ6WrXofXm7N1jcK92KvLYoa',
      placeholder: "在这分享你的见解吧~",
      avatar: 'mm',
      meta: guest,
      pageSize: '10' || 10,
      visitor: false,
      lang: '' || 'zh-cn',
      path: location.pathname,
      recordIP: false,
      serverURLs: ''
    });
  }, window.Valine);
});</script></body></html>