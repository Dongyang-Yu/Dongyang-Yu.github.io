<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("http://Dongyang-Yu.github.io").hostname,root:"/",scheme:"Pisces",version:"7.7.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="数据库ER模型概念笔记整理Entity用于描述数据库所记录的内容Entity instance实体实例Entities must be depicted in the ER diagrams while entity instances are not. But instances are eventually recorded in the databaseWeak entityER diagr"><meta property="og:type" content="article"><meta property="og:title" content="Database 1. ER Modeling"><meta property="og:url" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/index.html"><meta property="og:site_name" content="Dongyang Yu&#39;s Blog"><meta property="og:description" content="数据库ER模型概念笔记整理Entity用于描述数据库所记录的内容Entity instance实体实例Entities must be depicted in the ER diagrams while entity instances are not. But instances are eventually recorded in the databaseWeak entityER diagr"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220144242983.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220144317948.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220144333649.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220144512878.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220145116239.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220150836670.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220151617507.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220151802027.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220152026248.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220081100990.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220082114398.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220083024700.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220083612632.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220083948658.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220084429442.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220084741636.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200218151525718.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220073749782.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220074802908.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220090106919.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220091239399.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220093034613.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220081713711.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200218150915833.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200218150613228.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220081759846.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220083024700.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220083723613.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220084156575.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220084559579.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220144817623.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220144837817.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220144906817.png"><meta property="og:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220152204298.png"><meta property="article:published_time" content="2020-02-22T20:59:49.000Z"><meta property="article:modified_time" content="2020-02-22T21:29:01.972Z"><meta property="article:author" content="Dongyang Yu"><meta property="article:tag" content="ER modeling"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/image-20200220144242983.png"><link rel="canonical" href="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>Database 1. ER Modeling | Dongyang Yu's Blog</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Dongyang Yu's Blog</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">Hello World.</p></div><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Searching..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en"><link itemprop="mainEntityOfPage" href="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Dongyang Yu"><meta itemprop="description" content="Stay hungry. Stay foolish."></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Dongyang Yu's Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Database 1. ER Modeling</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-02-22 13:59:49 / Modified: 14:29:01" itemprop="dateCreated datePublished" datetime="2020-02-22T13:59:49-07:00">2020-02-22</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Database/" itemprop="url" rel="index"><span itemprop="name">Database</span> </a></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">Valine: </span><a title="valine" href="/2020/02/22/Database-ER-Modeling/#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2020/02/22/Database-ER-Modeling/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>数据库ER模型概念笔记整理</p><h1 id="Entity"><a href="#Entity" class="headerlink" title="Entity"></a>Entity</h1><blockquote><p>用于描述数据库所记录的内容</p></blockquote><h2 id="Entity-instance"><a href="#Entity-instance" class="headerlink" title="Entity instance"></a>Entity instance</h2><blockquote><p>实体实例</p></blockquote><p>Entities must be depicted in the ER diagrams while entity instances are not. But instances are eventually recorded in the database</p><h1 id="Weak-entity"><a href="#Weak-entity" class="headerlink" title="Weak entity"></a>Weak entity</h1><blockquote><p>ER diagram construct depicting an entity that does NOT have a unique attribute of its own</p><p>弱实体表示没有唯一属性的实体</p></blockquote><a id="more"></a><h2 id="Owner-entity"><a href="#Owner-entity" class="headerlink" title="Owner entity"></a>Owner entity</h2><blockquote><p>Entity whose unique attribute provides a mechanism for identifying instances of a weak entity</p><p>ER图中用双框矩形表示</p></blockquote><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220144242983.png" alt="image-20200220144242983"></p><h2 id="Identifying-relationship"><a href="#Identifying-relationship" class="headerlink" title="Identifying relationship"></a>Identifying relationship</h2><blockquote><p>Relationship between a weak entity and its owner entity in which each instance of a weak entity is associated with exactly <strong>one</strong> instance of an owner entity</p><p>ER图中用双框菱形表示</p></blockquote><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220144317948.png" alt="image-20200220144317948"></p><p>Each <strong>weak entity (弱实体)</strong> must be associated with its <strong>owner entity (属主实体)</strong> via an <strong>identifying relationship (标识性联系)</strong></p><p><u><strong>弱实体</strong>必须和它对应的<strong>属主实体</strong>通过<strong>标识性联系</strong>连接起来。</u></p><p>举例如下：</p><p>比如说，多套公寓可以有<u>相同的公寓编号</u>，但在一个建筑物内每套公寓只能有一个<u>唯一的公寓编号</u>。</p><p>此时可以看出，公寓这个实体是没有唯一属性的。但是，公寓编号是唯一的，此时这种属性就叫做<strong>部分键</strong> <code>Partial key</code>。</p><h3 id="Either-1-M-or-1-1-relationship"><a href="#Either-1-M-or-1-1-relationship" class="headerlink" title="Either 1:M or 1:1 relationship"></a>Either 1:M or 1:1 relationship</h3><ul><li>In case of 1:M identifying relationship, a weak entity <strong>must</strong> have a partial key attribute</li><li>In case of 1:1 identifying relationship, a weak entity <strong>doesn’t</strong> need to have a partial key attribute</li></ul><h2 id="Partial-key"><a href="#Partial-key" class="headerlink" title="Partial key"></a>Partial key</h2><blockquote><p>Attribute of a weak entity that combined with the unique attribute of the <u>owner entity</u> uniquely identifies the weak entity’s instances</p><p>ER图中用<u>下滑虚线</u>表示</p></blockquote><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220144333649.png" alt="image-20200220144333649"></p><p>部分键和<code>Owner entity</code>的唯一属性的组合可以唯一标识弱实体的每个实例。</p><p>正如下图所示，弱实体<code>Apartment</code>的实例可以由它的部分码<code>AptNo</code>和属主实体<code>Building</code>的主键<code>BuildingID</code>来唯一标识。</p><p>如：A101, A201, A301 等等</p><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220144512878.png" alt="image-20200220144512878"></p><h2 id="与多值复合属性的比较"><a href="#与多值复合属性的比较" class="headerlink" title="与多值复合属性的比较"></a>与多值复合属性的比较</h2><p>实际上，弱实体和多值复合属性的概念很相似，可以相互替代。</p><p>但是，Weak entity有<code>Partial key</code>，Multivalued composite entity却没有。</p><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220145116239.png" alt="image-20200220145116239"></p><h2 id="Associative-entity"><a href="#Associative-entity" class="headerlink" title="Associative entity"></a>Associative entity</h2><blockquote><p>关联实体是用于描述M:N联系的替代方式之一</p><p>关联实体没有唯一和部分唯一的属性，且通常没有任何属性</p><p>Construct used as an <u>alternative</u> way of depicting M:N relationships</p></blockquote><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220150836670.png" alt="image-20200220150836670"></p><p>如图上方所示，<code>EMPLOYEE</code>可以选择性的参与到<code>AssignedTo</code>中。相应的，在图的下方与其等价的关联实体<code>ASSIGNMENT</code>中，实体<code>EMPLOYEE</code>也可以选择性的参与到联系<code>Includes</code>中。同理，从右侧往左侧看也是一样。</p><p>对于那些度(Degree)大于2的联系（如三元联系 Ternary relationship），关联实体则提供了一种消除ER图中存在歧义的方法。</p><h1 id="Ternary-relationship"><a href="#Ternary-relationship" class="headerlink" title="Ternary relationship"></a>Ternary relationship</h1><blockquote><p>Relationship involving three entities (degree 3 relationship)</p></blockquote><p>如图所示，如果我想表示哪家供应商提供了哪些零部件给了哪类产品， 下方的三个二元关系事不能表示的。这时候我们就需要关联实体！</p><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220151617507.png" alt="image-20200220151617507"></p><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220151802027.png" alt="image-20200220151802027"></p><p>我们也可以再创建一个实体代替三元关系</p><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220152026248.png" alt="image-20200220152026248"></p><h1 id="Attributes"><a href="#Attributes" class="headerlink" title="Attributes"></a>Attributes</h1><blockquote><p>Depiction of a <strong>characteristic</strong> of an entity.</p></blockquote><h2 id="Unique-attributes"><a href="#Unique-attributes" class="headerlink" title="Unique attributes"></a>Unique attributes</h2><blockquote><p>Whose value is different for each entity instance. 通常，每个实体都必须有至少一个Unique attribute。</p></blockquote><h2 id="Composite-attribute-not-a-type"><a href="#Composite-attribute-not-a-type" class="headerlink" title="Composite attribute (not a type)"></a>Composite attribute (not a type)</h2><blockquote><p>Attribute that is composed of several attributes</p></blockquote><ul><li>NOT an additional attribute of an entity。不是额外的属性</li><li>its purpose is to indicate a situation in which a collection of attributes has an additional meaning, besides the individual meanings of each attribute</li></ul><p>举个栗子，下图中<code>CustFullName</code>就是个复合属性(Composite attribute)，它由两部分组成，分别是<code>CustFName</code> &amp; <code>CustLName</code>。因为复合属性不是额外的属性，所以图中共有5个属性(不包含CustFullName)</p><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220081100990.png" alt="image-20200220081100990"></p><hr><h3 id="Composite-unique-attribute"><a href="#Composite-unique-attribute" class="headerlink" title="Composite unique attribute"></a>Composite unique attribute</h3><blockquote><p>Attribute that is composed of several attributes and whose value is different for each entity instance</p></blockquote><p>复合的唯一属性，在实际生活中，可能单个属性不能作为<u>唯一属性</u>，但它们的组合却可以是。</p><p>举个栗子，教室所在的教学楼和房间号其中一个是不能代表教室所在位置的，因为教学楼里有多个教室，每栋教学楼可能都有相同的房间号、。因此，只有把他们结合在一起时，才能作为教室的唯一属性(Unique attr)。</p><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220082114398.png" alt="image-20200220082114398"></p><h2 id="1-Candidate-keys-候选键"><a href="#1-Candidate-keys-候选键" class="headerlink" title="1. (Candidate keys)  候选键"></a>1. (Candidate keys) 候选键</h2><p>又称<code>Multiple unique attributes多个唯一属性</code></p><blockquote><p>When an entity has more than one <u>unique</u> attribute each unique attribute is also called a <strong>candidate key</strong></p><p>候选码的意义是这些属性可以作为主键(Primary key)</p></blockquote><p>举个栗子，下图中有两个主键，分别是<code>EmpID</code> &amp; <code>SSN</code></p><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220083024700.png" alt="image-20200220083024700"></p><h2 id="2-Multivalued-attribute"><a href="#2-Multivalued-attribute" class="headerlink" title="2. Multivalued attribute"></a>2. Multivalued attribute</h2><blockquote><p>Attribute for which instances of an entity can have <strong>multiple values</strong> for the same attribute. 当同一个属性可能有不同的取值情况</p><p>Multivalued attributes are those that are can <strong>take on more than one value</strong>.</p></blockquote><p>比如下图中，每个职员可能有不同的手机号码<code>PhoneNumber</code></p><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220083612632.png" alt="image-20200220083612632"></p><h2 id="3-Derived-attribute"><a href="#3-Derived-attribute" class="headerlink" title="3.Derived attribute"></a>3.Derived attribute</h2><blockquote><p>派生属性，并非永久储存在数据库中的属性；是由其他属性派生而来</p><p>Attribute whose values are calculated and not permanently stored in a database;</p><p>Derived attributes are attributes whose value can be <strong>calculated</strong> from related attribute values.</p></blockquote><p>如下图所示</p><p><code>YearsInBusiness</code>就是个派生属性，其值事有开业时间计算而来，也就是开店持续时间</p><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220083948658.png" alt="image-20200220083948658"></p><h2 id="4-Optional-attribute"><a href="#4-Optional-attribute" class="headerlink" title="4.Optional attribute"></a>4.Optional attribute</h2><blockquote><p>可选属性，表示有的属性可以没有取值。</p><p>Attribute that is allowed to not have a value.</p></blockquote><p>比如下图中，职员可能没有年终将近，所以用可选属性表示。</p><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220084429442.png" alt="image-20200220084429442"></p><h2 id="Review-回顾一下"><a href="#Review-回顾一下" class="headerlink" title="Review 回顾一下"></a>Review 回顾一下</h2><p>我们来复习一下，看看能不能捋清楚~</p><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220084741636.png" alt="image-20200220084741636"></p><ul><li><input disabled type="checkbox"> Mutiple unique attr: SSN, Email, EmpID</li><li><input disabled type="checkbox"> Composite attr: FullName</li><li><input disabled type="checkbox"> Multivalued attr: Phone, Skill</li><li><input disabled type="checkbox"> Derived attr: YearsWithCo, Age</li><li><input disabled type="checkbox"> Optional attr: Bonus(O)</li><li><input disabled type="checkbox"> Other attr: Salart, DataOfBirth</li></ul><h1 id="Relationship"><a href="#Relationship" class="headerlink" title="Relationship"></a>Relationship</h1><blockquote><p>Depicting how entities are related. 每个实体必须通过<u>联系</u>与至少一个其他的实体相关联</p></blockquote><h2 id="Cardinality-constraint-基数约束"><a href="#Cardinality-constraint-基数约束" class="headerlink" title="Cardinality constraint 基数约束"></a>Cardinality constraint 基数约束</h2><blockquote><p>Depict how many instances of one entity can be associated with instances of another entity. 表示一个实体可以有多少个实例与另一个实体的实例相关联。</p></blockquote><h3 id="Maximum-Cardinality最大基数"><a href="#Maximum-Cardinality最大基数" class="headerlink" title="Maximum Cardinality最大基数"></a>Maximum Cardinality最大基数</h3><ul><li><p>One (represented by a straight bar: I)</p></li><li><p>Many (represented by a crow’s foot symbol)</p></li></ul><h3 id="Minimum-Cardinality最小基数"><a href="#Minimum-Cardinality最小基数" class="headerlink" title="Minimum Cardinality最小基数"></a>Minimum Cardinality最小基数</h3><ul><li>Optional (represented by a circular symbol: 0) 可选的</li><li>Mandatory (represented by a straight bar: I) 强制的</li></ul><p>四种可能的基数约束</p><p><img src="/2020/02/22/Database-ER-Modeling/image-20200218151525718.png" alt="image-20200218151525718"></p><h3 id="Types-of-Relationships-maximum-cardinality-wise"><a href="#Types-of-Relationships-maximum-cardinality-wise" class="headerlink" title="Types of Relationships (maximum cardinality-wise)"></a>Types of Relationships (maximum cardinality-wise)</h3><ul><li>One-to-one relationship (1:1)</li><li>One-to-many relationship (1:M)</li><li>Many-to-many relationship (M:N)</li></ul><h2 id="Relationship-attribute"><a href="#Relationship-attribute" class="headerlink" title="Relationship attribute:"></a>Relationship attribute:</h2><blockquote><p>In some cases <strong>M:N</strong> relationships can actually have attributes of their own</p></blockquote><p>举个栗子，ER图如下， 对属于某个组织下的每个学生在改组织内担任的职能（如主席，副主席，会计等）。但是呢，一个学生在不同的组织中可能有不同的职能。若将职能(Function)放在<code>STUDENT</code>实体里，那么就无法确认该学生的职能对应哪个组织；若将其放在<code>ORAGNIZATION</code>实体中，就无法确认该职能由谁担任。因此职能属性恰当的位置应该是作为<code>BelongsTo</code>联系的属性。</p><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220073749782.png" alt="image-20200220073749782"></p><p>但对于<u>1:M</u>或<u>1:1</u>联系呢，其属性可以转化为该联系中最大基数为1的实体属性，因为对于该实体来说，1代表的是只能有1个实体实例。举个栗子入学时间可以作为<code>Attends</code>联系的属性，但是因为每个学生只能加入一个学院，所以将其放在学生<code>STUDENT</code>实体的属性也是可以的。</p><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220074802908.png" alt="image-20200220074802908"></p><p>因此，总结来说，就是对于一些<code>M:N</code>联系来说，<code>Relationship Attribute</code>是<strong>必要</strong>的，但对于<code>1:M</code>或<code>1:1</code>联系，没有必要。</p><h2 id="最小基数-最大基数确切值"><a href="#最小基数-最大基数确切值" class="headerlink" title="最小基数/最大基数确切值"></a>最小基数/最大基数确切值</h2><blockquote><p>Exact minimum and maximum cardinality in relationships</p></blockquote><ul><li>Exact minimum/and or maximum cardinalities can be depicted<br>in ER diagrams</li></ul><p>举个例子:</p><p>下图表示每名学生<strong>必须</strong>选择最少2门，最多6门课；每门课<strong>必须</strong>最少有5人上课，最多40人上课。</p><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220090106919.png" alt="image-20200220090106919"></p><h2 id="Degree-of-a-relationship"><a href="#Degree-of-a-relationship" class="headerlink" title="Degree of a relationship"></a>Degree of a relationship</h2><blockquote><p>表示有多少个实体参与到该联系中</p><p>reflects how many <strong>entities</strong> are involved in the relationship</p></blockquote><ul><li><p>Binary relationship</p><ul><li>relationship btwn two entities ( degree 2 relationship)</li></ul></li><li><p>Unary relationship (<strong>recursive relationship</strong>)</p><ul><li>occurs when an entity is involved in a relationship with itself<br>(degree 1 relationship)</li></ul><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220091239399.png" alt="image-20200220091239399"></p></li></ul><h2 id="Relational-roles"><a href="#Relational-roles" class="headerlink" title="Relational roles"></a>Relational roles</h2><blockquote><p>additional syntax that can be used in ER diagrams at the discretion of a data modeler(由数据建模者自行决定) to <u>clarify the role of each entity in a relationship</u></p></blockquote><p>比如下图中，一个用户可以是推荐者，推荐多个用户，也可以不是推荐者；</p><p>一个用户也是可以是被推荐者，且只能被一个用户推荐，也可以不是被推荐者。</p><p><img src="/2020/02/22/Database-ER-Modeling/image-20200220093034613.png" alt="image-20200220093034613"></p><h1 id="命名约定"><a href="#命名约定" class="headerlink" title="命名约定"></a>命名约定</h1><ul><li>Entity: 大写字母的名词，如<code>STUDENT</code></li><li>Attribute：大小写字母的组合的<u>名词</u>，如<code>StudentID</code></li><li>Relationship：大小写字母的组合的动词，如<code>Refers</code></li></ul><h1 id="Cheatsheet"><a href="#Cheatsheet" class="headerlink" title="Cheatsheet"></a>Cheatsheet</h1><table><thead><tr><th>Name</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>Entity</td><td>实体</td><td><img src="/2020/02/22/Database-ER-Modeling/image-20200220081713711.png" alt="image-20200220081713711"></td></tr><tr><td>Relation</td><td>菱形</td><td><img src="/2020/02/22/Database-ER-Modeling/image-20200218150915833.png" alt="image-20200218150915833"></td></tr><tr><td>Unique Attr</td><td>带有下划线</td><td><img src="/2020/02/22/Database-ER-Modeling/image-20200218150613228.png" alt="image-20200218150613228"></td></tr><tr><td>Composite Attr</td><td>带有括号，由几个部分子属性组成，但它不属于属性</td><td><img src="/2020/02/22/Database-ER-Modeling/image-20200220081759846.png" alt="image-20200220081759846"></td></tr><tr><td>Candidate Key</td><td>又称Multiple unique attributes.有多个候选键可作为主键</td><td><img src="/2020/02/22/Database-ER-Modeling/image-20200220083024700.png" alt="image-20200220083024700"></td></tr><tr><td>Multivalued Attr</td><td>由双椭圆线表示</td><td><img src="/2020/02/22/Database-ER-Modeling/image-20200220083723613.png" alt="image-20200220083723613"></td></tr><tr><td>Derived Attr</td><td>用虚线表示，意为不是永久储存在数据库中</td><td><img src="/2020/02/22/Database-ER-Modeling/image-20200220084156575.png" alt="image-20200220084156575"></td></tr><tr><td>Optional Atte</td><td>和普通属性差不多，只是在名字后加上<strong>(O)</strong></td><td><img src="/2020/02/22/Database-ER-Modeling/image-20200220084559579.png" alt="image-20200220084559579"></td></tr><tr><td>Weak Entity</td><td>双框矩形</td><td><img src="/2020/02/22/Database-ER-Modeling/image-20200220144817623.png" alt="image-20200220144817623"></td></tr><tr><td>Partial Key</td><td>下滑虚线</td><td><img src="/2020/02/22/Database-ER-Modeling/image-20200220144837817.png" alt="image-20200220144837817"></td></tr><tr><td>Identical relationship</td><td>双框菱形</td><td><img src="/2020/02/22/Database-ER-Modeling/image-20200220144906817.png" alt="image-20200220144906817"></td></tr><tr><td>Associated Entity</td><td>描述M:N联系的另一种方法，特别适用于三元联系</td><td><img src="/2020/02/22/Database-ER-Modeling/image-20200220152204298.png" alt="image-20200220152204298"></td></tr><tr><td></td><td></td><td></td></tr></tbody></table></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>Dongyang Yu</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/" title="Database 1. ER Modeling">http://dongyang-yu.github.io/2020/02/22/Database-ER-Modeling/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/ER-modeling/" rel="tag"><i class="fa fa-tag"></i> ER modeling</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2020/02/10/libFuzzer/" rel="prev" title="libFuzzer"><i class="fa fa-chevron-left"></i> libFuzzer</a></div><div class="post-nav-item"><a href="/2020/02/22/Database-Relational-Modeling/" rel="next" title="Database 2. Relational Modeling">Database 2. Relational Modeling <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="comments" id="valine-comments"></div><script>window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">Table of Contents</li><li class="sidebar-nav-overview">Overview</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Entity"><span class="nav-number">1.</span> <span class="nav-text">Entity</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Entity-instance"><span class="nav-number">1.1.</span> <span class="nav-text">Entity instance</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Weak-entity"><span class="nav-number">2.</span> <span class="nav-text">Weak entity</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Owner-entity"><span class="nav-number">2.1.</span> <span class="nav-text">Owner entity</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Identifying-relationship"><span class="nav-number">2.2.</span> <span class="nav-text">Identifying relationship</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Either-1-M-or-1-1-relationship"><span class="nav-number">2.2.1.</span> <span class="nav-text">Either 1:M or 1:1 relationship</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Partial-key"><span class="nav-number">2.3.</span> <span class="nav-text">Partial key</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#与多值复合属性的比较"><span class="nav-number">2.4.</span> <span class="nav-text">与多值复合属性的比较</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Associative-entity"><span class="nav-number">2.5.</span> <span class="nav-text">Associative entity</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Ternary-relationship"><span class="nav-number">3.</span> <span class="nav-text">Ternary relationship</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Attributes"><span class="nav-number">4.</span> <span class="nav-text">Attributes</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Unique-attributes"><span class="nav-number">4.1.</span> <span class="nav-text">Unique attributes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Composite-attribute-not-a-type"><span class="nav-number">4.2.</span> <span class="nav-text">Composite attribute (not a type)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Composite-unique-attribute"><span class="nav-number">4.2.1.</span> <span class="nav-text">Composite unique attribute</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Candidate-keys-候选键"><span class="nav-number">4.3.</span> <span class="nav-text">1. (Candidate keys) 候选键</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Multivalued-attribute"><span class="nav-number">4.4.</span> <span class="nav-text">2. Multivalued attribute</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Derived-attribute"><span class="nav-number">4.5.</span> <span class="nav-text">3.Derived attribute</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Optional-attribute"><span class="nav-number">4.6.</span> <span class="nav-text">4.Optional attribute</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Review-回顾一下"><span class="nav-number">4.7.</span> <span class="nav-text">Review 回顾一下</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Relationship"><span class="nav-number">5.</span> <span class="nav-text">Relationship</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Cardinality-constraint-基数约束"><span class="nav-number">5.1.</span> <span class="nav-text">Cardinality constraint 基数约束</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Maximum-Cardinality最大基数"><span class="nav-number">5.1.1.</span> <span class="nav-text">Maximum Cardinality最大基数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Minimum-Cardinality最小基数"><span class="nav-number">5.1.2.</span> <span class="nav-text">Minimum Cardinality最小基数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Types-of-Relationships-maximum-cardinality-wise"><span class="nav-number">5.1.3.</span> <span class="nav-text">Types of Relationships (maximum cardinality-wise)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Relationship-attribute"><span class="nav-number">5.2.</span> <span class="nav-text">Relationship attribute:</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#最小基数-最大基数确切值"><span class="nav-number">5.3.</span> <span class="nav-text">最小基数&#x2F;最大基数确切值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Degree-of-a-relationship"><span class="nav-number">5.4.</span> <span class="nav-text">Degree of a relationship</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Relational-roles"><span class="nav-number">5.5.</span> <span class="nav-text">Relational roles</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#命名约定"><span class="nav-number">6.</span> <span class="nav-text">命名约定</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Cheatsheet"><span class="nav-number">7.</span> <span class="nav-text">Cheatsheet</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">Dongyang Yu</p><div class="site-description" itemprop="description">Stay hungry. Stay foolish.</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">18</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">6</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">13</span> <span class="site-state-item-name">tags</span></a></div></nav></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2020</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Dongyang Yu</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0</div><span class="post-meta-divider">|</span><div class="theme-info">Theme – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.0</div><span id="busuanzi_container_site_uv">Visitors：<span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span></div></footer></div><script color="100,100,100" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><script>NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el: '#valine-comments',
      verify: false,
      notify: false,
      appId: '6u1QF4uq57Xt5sYy1vN3QG9Y-gzGzoHsz',
      appKey: 'TQ6WrXofXm7N1jcK92KvLYoa',
      placeholder: "在这分享你的见解吧~",
      avatar: 'mm',
      meta: guest,
      pageSize: '10' || 10,
      visitor: false,
      lang: '' || 'zh-cn',
      path: location.pathname,
      recordIP: false,
      serverURLs: ''
    });
  }, window.Valine);
});</script></body></html>